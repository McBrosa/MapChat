<?xml version="1.0" encoding="UTF-8"?>
<!--
Created by Osman Balci on 2016.02.14 
Copyright Â© 2016 Osman Balci. All rights reserved.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <h:body> 
        <ui:composition template="/template/siteTemplate.xhtml">
            <title><ui:define name="title">#{profileViewManager.loggedInUser.username}'s Profile</ui:define></title>
            <!-- A user must be logged in to access a profile, therefore the header must be changed to reflect this -->
            <ui:define name="header">
                <ui:include src="/template/userHeaderTemplate.xhtml" />
            </ui:define>
            
            <ui:define name="editableContent">
                <h:form class="form-signin">
                <h:panelGrid columns="2" >
                        <p:panel id="user-photo" class="mc-panel">
                            <p:commandLink id="photo-link" action="EditPhoto" styleClass="user-pic" ajax="false">
                                <h:graphicImage value="FileStorageLocation/#{accountManager.userPhoto()}" />
                            </p:commandLink>
                            <p:tooltip id="toolTipFade" for="photo-link" value="Change Photo" trackMouse="true" />
                            
                            <h2>#{profileViewManager.loggedInUser.firstName} #{profileViewManager.loggedInUser.lastName}</h2>
                            <p:link value="Edit Profile"  outcome="EditAccount" style="color: goldenrod;" />
                        </p:panel>
                        <p:panel id="info-panel" class="mc-panel">
                            <p:tabView  id="user-info" style="background-color: slategray;">
                              <p:tab title="Basic Info">
                                <!-- Basic Info goes here -->
                                <h:panelGrid columns="2" cellpadding="10">
                                  <h:outputText value="First Name: " />
                                  <h:outputText value="#{profileViewManager.loggedInUser.firstName}" />

                                  <h:outputText value="Middle Name or Initial: " />
                                  <h:outputText value="#{profileViewManager.loggedInUser.middleName}" />                      

                                  <h:outputText value="Last Name: " />
                                  <h:outputText value="#{profileViewManager.loggedInUser.lastName}" />

                                  <h:outputText value="Phone Number: " />
                                  <h:outputText value="#{profileViewManager.loggedInUser.phone}" />     

                                  <h:outputText value="Email " />
                                  <h:outputText value="#{profileViewManager.loggedInUser.email}" />
                                </h:panelGrid>
                              </p:tab>           
                            </p:tabView>
                            <br/>
                            <p:commandButton value="Dashboard" style="background-color: gold;"
                                             action="Dashboard?faces-redirect=true" />
                        </p:panel>
                </h:panelGrid>
               </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>