<?xml version="1.0" encoding="UTF-8"?>
<!--
Created by MapChat Development Team
Edited by Anthony Barbee, Corey McQuay
Last Modified: 2016.04.25
Copyright © 2016 MapChat Development Team. All rights reserved.
-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <!--    This is the footer that will stay constant throughout the website. It contains
    The contact us form that us used to send emails to the mapchat team.-->

    <!--
    *********************************************
    * Footer Component of Template siteTemplate *
    *********************************************
    This page's content is displayed on the bottom of each page created based on the siteTemplate.
    Changes made in this file will show up automatically with all pages created based on the
    siteTemplate for the entire site, achieving great maintainability.
    -->
    <body>
        <!-- Do not enter tags before the composition line since they are ignored by JSF -->
        <ui:composition>
            <h:form>
                <h:panelGroup>
                    <a href="https://www.facebook.com" target="_blank"><img src="./resources/images/socialMediaIcons/facebook.png" style="max-height: 28px; max-width: 28px; margin: 0 10px;" /></a>
                    <a href="https://twitter.com/"  target="_blank"><img src="./resources/images/socialMediaIcons/twitter.png" style="max-height: 28px; max-width: 28px;"/></a>
                </h:panelGroup>

<!--                The Contact Us link that allows the user to send an email to the mapchat team through a pop up form-->
                <p:commandLink value="Contact Us" onclick="PF('contactUs').show();" styleClass="rightAlign"/>
                <div>
                    <!--The status message from the bean-->
                    <p:growl id="mailMessage" showDetail="true" />  

                    <p:dialog header="Contact Us" widgetVar="contactUs" minHeight="40" >
                        <p:panel class="mc-panel">
                            <h2>Please inform us if you have any ideas, questions, comments, or issues with the MapChat application. Also leave your contact email so we can contact you if needed</h2>
                            <div align="center">
                                <h:panelGrid columns="2" cellspacing="10px" >
                                    <!--This is where the data is collected through the user and passes on to the Email Bean-->
                                    <h2> Subject:</h2>
                                    <h:panelGroup>
                                        <br />
                                        <h:inputText size="30" id="subject"
                                                     value="#{emailClientBean.subject}" />
                                    </h:panelGroup>

                                    <h2>Message:</h2>
                                    <h:panelGroup>
                                        <h:inputTextarea cols="45" rows="15" id="body-text"
                                                         value="#{emailClientBean.body}" />
                                    </h:panelGroup>
                                </h:panelGrid>
                            </div>
                            <!--When the user presses send that is when the emailBean takes the information to the back end, then comes back with a response to the front end. Clears fields to make boxes empty-->
                            <div align="center">
                                <h:panelGrid columns="2" style="float: bottom;" >
                                    <h:commandButton value="Send" action="#{emailClientBean.clearFields()}" actionListener="#{emailClientBean.send()}" style="background-color: gold;"/>
                                    <h:commandButton value="Cancel" onclick="PF('contactUs').hide();"  actionListener="#{emailClientBean.clearFields()}" style="background-color: gold;"/>
                                </h:panelGrid>
                            </div>
                            <br />
                        </p:panel>
                    </p:dialog>
                </div>
                <p:separator />
                <h:outputLabel value="MapChat ver. 1.0 (PRERELEASE)" class="leftAlign" style="font-size: 12px;"/>
                <h:outputLabel value="Copyright © 2016. Virginia Polytechnic Institute and State University" class="rightAlign" style="font-size: 12px;"/>
                <br/>
            </h:form>
        </ui:composition>
        <!-- Do not enter tags after the composition line since they are ignored by JSF -->
    </body>
</html>